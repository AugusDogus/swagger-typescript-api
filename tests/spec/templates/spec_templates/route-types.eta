<%
const { utils, config, routes, modelTypes } = it;
const { _, pascalCase } = utils;
const dataContracts = config.modular ? _.map(modelTypes, "name") : [];
%>
<%
/* TODO: outOfModule, combined should be attributes of route, which will allow to avoid duplication of code */
%>


<% if (routes.outOfModule) { %>
 <% for await (const route of routes.outOfModule) { %>

  <%~ await includeFile('@base/route-type.ejs', { ...it, route }) %>
 <% } %>
<% } %>

<% if (routes.combined) { %>
  <% for await (const { routes: combinedRoutes = [], moduleName } of routes.combined) { %>

    export namespace <%~ pascalCase(moduleName) %> {
    <% for await (const route of combinedRoutes) { %>
        <%~ await includeFile('@base/route-type.ejs', { ...it, route }) %>
    <% } %>
    }
  <% } %>
<% } %>

/* CUSTOM TEMPLATE */